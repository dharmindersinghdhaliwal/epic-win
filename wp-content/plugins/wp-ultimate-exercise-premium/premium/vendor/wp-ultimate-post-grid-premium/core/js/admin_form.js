var WPUltimateEPostGrid=WPUltimateEPostGrid||{};WPUltimateEPostGrid.post_type=null,WPUltimateEPostGrid.filter_possible=!1,WPUltimateEPostGrid.premium_features_used=[],WPUltimateEPostGrid.initForm=function(){jQuery(".wpupg-select2").select2wpupg({width:"100%"}),jQuery("#wpupg_rules").find(".wpupg-date").datepicker();var e={start:1,step:1,range:{min:1,max:500},behaviour:"tap-drag",format:wNumb({decimals:0})},t=jQuery("#wpupg_epagination_pages_posts_per_page");e.start=t.val(),jQuery("#wpupg_epagination_pages_posts_per_page_slider").noUiSlider(e).Link("lower").to(t);var o=jQuery("#wpupg_epagination_load_more_initial_posts");e.start=o.val(),jQuery("#wpupg_epagination_load_more_initial_posts_slider").noUiSlider(e).Link("lower").to(o);var i=jQuery("#wpupg_epagination_load_more_posts_on_click");e.start=i.val(),jQuery("#wpupg_epagination_load_more_posts_on_click_slider").noUiSlider(e).Link("lower").to(i),e={start:0,step:1,range:{min:0,max:50},behaviour:"tap-drag",format:wNumb({decimals:0})};var r=jQuery("#wpupg_isotope_filter_style_margin_vertical");e.start=r.val(),jQuery("#wpupg_isotope_filter_style_margin_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(r);var a=jQuery("#wpupg_isotope_filter_style_margin_horizontal");e.start=a.val(),jQuery("#wpupg_isotope_filter_style_margin_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(a);var l=jQuery("#wpupg_isotope_filter_style_padding_vertical");e.start=l.val(),jQuery("#wpupg_isotope_filter_style_padding_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(l);var n=jQuery("#wpupg_isotope_filter_style_padding_horizontal");e.start=n.val(),jQuery("#wpupg_isotope_filter_style_padding_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(n);var _=jQuery("#wpupg_isotope_filter_style_border_width");e.start=_.val(),jQuery("#wpupg_isotope_filter_style_border_width_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(_);var p=jQuery("#wpupg_epagination_style_margin_vertical");e.start=p.val(),jQuery("#wpupg_epagination_style_margin_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedPaginationStyle()}}).Link("lower").to(p);var u=jQuery("#wpupg_epagination_style_margin_horizontal");e.start=u.val(),jQuery("#wpupg_epagination_style_margin_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedPaginationStyle()}}).Link("lower").to(u);var s=jQuery("#wpupg_epagination_style_padding_vertical");e.start=s.val(),jQuery("#wpupg_epagination_style_padding_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedPaginationStyle()}}).Link("lower").to(s);var c=jQuery("#wpupg_epagination_style_padding_horizontal");e.start=c.val(),jQuery("#wpupg_epagination_style_padding_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedPaginationStyle()}}).Link("lower").to(c);var g=jQuery("#wpupg_epagination_style_border_width");e.start=g.val(),jQuery("#wpupg_epagination_style_border_width_slider").noUiSlider(e).on({slide:function(){WPUltimateEPostGrid.changedPaginationStyle()}}).Link("lower").to(g),jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_background_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_background_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_epagination_style_background_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_background_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_background_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_text_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_text_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_text_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_border_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_border_active_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),jQuery("#wpupg_epagination_style_border_hover_color").wpColorPicker({change:function(){WPUltimateEPostGrid.changedPaginationStyle()}}),WPUltimateEPostGrid.changedPostType(),WPUltimateEPostGrid.changedLimitPosts(),WPUltimateEPostGrid.initRules(),WPUltimateEPostGrid.changedFilterType(),WPUltimateEPostGrid.changedMultiselect(),WPUltimateEPostGrid.changedIsotopeFilterStyle(),WPUltimateEPostGrid.changedIsotopeFilterText(),WPUltimateEPostGrid.changedLayoutMode(),WPUltimateEPostGrid.changedPaginationStyle(),WPUltimateEPostGrid.changedPaginationType(),WPUltimateEPostGrid.changedPaginationText(),jQuery("#wpupg_epost_types").on("change",function(){WPUltimateEPostGrid.changedPostType()}),jQuery("#wpupg_limit_posts").on("change",function(){WPUltimateEPostGrid.changedLimitPosts()}),jQuery("#wpupg_add_rule").on("click",function(e){e.preventDefault(),WPUltimateEPostGrid.addRule()}),jQuery(".wpupg_rule_delete").on("click",function(e){e.preventDefault(),WPUltimateEPostGrid.removeRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".wpupg_rule_field").on("change",function(e){WPUltimateEPostGrid.changedRuleField(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".rule_container_wpupg_general_date").find("select").on("change",function(e){WPUltimateEPostGrid.changedDateRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".wpupg-date").on("change",function(e){WPUltimateEPostGrid.changedDateRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery("#wpupg_efilter_type").on("change",function(){WPUltimateEPostGrid.changedFilterType()}),jQuery("#wpupg_efilter_multiselect").on("change",function(){WPUltimateEPostGrid.changedMultiselect()}),jQuery("#wpupg_layout_mode").on("change",function(){WPUltimateEPostGrid.changedLayoutMode()}),jQuery("#wpupg_epagination_type").on("change",function(){WPUltimateEPostGrid.changedPaginationType()}),jQuery("#wpupg_epagination_load_more_button_text").on("change keyup",function(){WPUltimateEPostGrid.changedPaginationText()}),r.on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),a.on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),l.on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),n.on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),_.on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),jQuery("#wpupg_isotope_filter_style_alignment").on("change",function(){WPUltimateEPostGrid.changedIsotopeFilterStyle()}),jQuery("#wpupg_isotope_filter_style_all_button_text").on("change keyup",function(){WPUltimateEPostGrid.changedIsotopeFilterText()}),p.on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),u.on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),s.on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),c.on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),g.on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),jQuery("#wpupg_epagination_style_alignment").on("change",function(){WPUltimateEPostGrid.changedPaginationStyle()}),jQuery(".wpupg-efilter-isotope-term").hover(function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_isotope_filter_style_background_hover_color").wpColorPicker("color"),t=jQuery("#wpupg_isotope_filter_style_text_hover_color").wpColorPicker("color"),o=jQuery("#wpupg_isotope_filter_style_border_hover_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",o)}},function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker("color"),t=jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker("color"),o=jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",o)}}),jQuery(".wpupg-pagination-term").hover(function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_epagination_style_background_hover_color").wpColorPicker("color"),t=jQuery("#wpupg_epagination_style_text_hover_color").wpColorPicker("color"),o=jQuery("#wpupg_epagination_style_border_hover_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",o)}},function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_epagination_style_background_color").wpColorPicker("color"),t=jQuery("#wpupg_epagination_style_text_color").wpColorPicker("color"),o=jQuery("#wpupg_epagination_style_border_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",o)}})},WPUltimateEPostGrid.changedPostType=function(){var e=jQuery("#wpupg_epost_types").find(":selected").val();jQuery(".wpupg_efilter_taxonomy_container").hide();var t=jQuery("#wpupg_efilter_taxonomy_"+e+"_container");t.length>0?(jQuery("#wpupg_no_taxonomies").hide(),jQuery("#wpupg_form_filter").show(),t.show(),WPUltimateEPostGrid.filter_possible=!0):(jQuery("#wpupg_no_taxonomies").show(),jQuery("#wpupg_form_filter").hide(),WPUltimateEPostGrid.filter_possible=!1),WPUltimateEPostGrid.changedFilterType()},WPUltimateEPostGrid.changedLimitPosts=function(){jQuery("#wpupg_limit_posts").is(":checked")?(WPUltimateEPostGrid.checkPremiumFeatures("limit_posts",!0),jQuery("#wpupg_meta_box_limit_posts").show()):(WPUltimateEPostGrid.checkPremiumFeatures("limit_posts",!1),jQuery("#wpupg_meta_box_limit_posts").hide())},WPUltimateEPostGrid.initRules=function(){jQuery("#wpupg_rules").find("tr").each(function(){var e=jQuery(this);e.find("select").select2wpupg({width:"100%"}),WPUltimateEPostGrid.changedRuleField(e.attr("data-rule"))})},WPUltimateEPostGrid.addRule=function(){var e=jQuery("#wpupg_rules"),t=e.find("tr:last").attr("data-rule");t=void 0==t?1:parseInt(t)+1;var o=jQuery("#wpupg_rule_placeholder").find("tr").first().clone(!0);o.appendTo(e).attr("id",function(e,o){return o.replace(/(\d+)/,t)}).attr("data-rule",function(e,o){return o.replace(/(\d+)/,t)}).find("select, input").attr("name",function(e,o){return o.replace(/(\d+)/,t)}).attr("id",function(e,o){return o.replace(/(\d+)/,t)}),o.find("select").select2wpupg({width:"100%"}),o.find(".wpupg-date").datepicker(),WPUltimateEPostGrid.changedRuleField(t),WPUltimateEPostGrid.changedDateRule(t)},WPUltimateEPostGrid.removeRule=function(e){"0"!=e&&jQuery("#wpupg_rule_"+e).remove()},WPUltimateEPostGrid.changedRuleField=function(e){var t=jQuery("#wpupg_rule_"+e),o=jQuery("#wpupg_limit_posts_rule_field_"+e).val();o=o.replace("|","_"),t.find(".rule_container").hide(),t.find(".rule_container_"+o).show()},WPUltimateEPostGrid.changedDateRule=function(e){var t=jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_condition_"+e).find(":selected").val(),o=jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_date_"+e).val();jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_"+e).val(t+";"+o)},WPUltimateEPostGrid.changedFilterType=function(){var e=jQuery("#wpupg_efilter_type").find(":selected").val();"none"==e?jQuery("#wpupg_form_filter").find("tr").not(".wpupg_no_filter").hide():jQuery("#wpupg_form_filter").find("tr").not(".wpupg_no_filter").show(),"dropdown"==e?WPUltimateEPostGrid.checkPremiumFeatures("filter_type",!0):WPUltimateEPostGrid.checkPremiumFeatures("filter_type",!1),jQuery("#wpupg_meta_box_isotope_filter").hide(),jQuery("#wpupg_meta_box_dropdown_filter").hide(),WPUltimateEPostGrid.filter_possible&&jQuery("#wpupg_meta_box_"+e+"_filter").show()},WPUltimateEPostGrid.changedMultiselect=function(){var e=jQuery("#wpupg_efilter_multiselect").is(":checked");e?(WPUltimateEPostGrid.checkPremiumFeatures("multiselect",!0),jQuery(".wpupg_multiselect").show()):(WPUltimateEPostGrid.checkPremiumFeatures("multiselect",!1),jQuery(".wpupg_multiselect").hide())},WPUltimateEPostGrid.changedIsotopeFilterStyle=function(){var e=parseInt(jQuery("#wpupg_isotope_filter_style_margin_vertical").val()),t=parseInt(jQuery("#wpupg_isotope_filter_style_margin_horizontal").val()),o=parseInt(jQuery("#wpupg_isotope_filter_style_padding_vertical").val()),i=parseInt(jQuery("#wpupg_isotope_filter_style_padding_horizontal").val()),r=parseInt(jQuery("#wpupg_isotope_filter_style_border_width").val()),a=jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker("color"),l=jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker("color"),n=jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker("color"),_=jQuery("#wpupg_isotope_filter_style_alignment").find(":selected").val();jQuery("#wpupg_efilter_preview_isotope_filter_style").css("text-align",_),jQuery(".wpupg-efilter-isotope-term").css("margin",e+"px "+t+"px").css("padding",o+"px "+i+"px").css("background-color",a).css("color",l).css("border",r+"px solid "+n);var p=jQuery("#wpupg_isotope_filter_style_background_active_color").wpColorPicker("color"),u=jQuery("#wpupg_isotope_filter_style_text_active_color").wpColorPicker("color"),s=jQuery("#wpupg_isotope_filter_style_border_active_color").wpColorPicker("color");jQuery(".wpupg-efilter-isotope-term.active").css("background-color",p).css("color",u).css("border",r+"px solid "+s)},WPUltimateEPostGrid.changedIsotopeFilterText=function(){var e=jQuery("#wpupg_isotope_filter_style_all_button_text").val();jQuery("#wpupg_isotope_filter_style_all_button_text_preview").text(e)},WPUltimateEPostGrid.changedLayoutMode=function(){var e=jQuery("#wpupg_layout_mode").find(":selected").val();"masonry"==e?jQuery(".wpupg_masonry").show():jQuery(".wpupg_masonry").hide()},WPUltimateEPostGrid.changedPaginationStyle=function(){var e=parseInt(jQuery("#wpupg_epagination_style_margin_vertical").val()),t=parseInt(jQuery("#wpupg_epagination_style_margin_horizontal").val()),o=parseInt(jQuery("#wpupg_epagination_style_padding_vertical").val()),i=parseInt(jQuery("#wpupg_epagination_style_padding_horizontal").val()),r=parseInt(jQuery("#wpupg_epagination_style_border_width").val()),a=jQuery("#wpupg_epagination_style_background_color").wpColorPicker("color"),l=jQuery("#wpupg_epagination_style_text_color").wpColorPicker("color"),n=jQuery("#wpupg_epagination_style_border_color").wpColorPicker("color"),_=jQuery("#wpupg_epagination_style_alignment").find(":selected").val();jQuery(".wpupg_efilter_preview_pagination_style").css("text-align",_),jQuery(".wpupg-pagination-term").css("margin",e+"px "+t+"px").css("padding",o+"px "+i+"px").css("background-color",a).css("color",l).css("border",r+"px solid "+n);var p=jQuery("#wpupg_epagination_style_background_active_color").wpColorPicker("color"),u=jQuery("#wpupg_epagination_style_text_active_color").wpColorPicker("color"),s=jQuery("#wpupg_epagination_style_border_active_color").wpColorPicker("color");jQuery(".wpupg-pagination-term.active").css("background-color",p).css("color",u).css("border",r+"px solid "+s)},WPUltimateEPostGrid.changedPaginationType=function(){var e=jQuery("#wpupg_epagination_type").find(":selected").val();jQuery("#wpupg_form_pagination").find("tbody").not(".wpupg_epagination_"+e).not(".wpupg_epagination_none").hide(),jQuery("#wpupg_form_pagination").find("tbody.wpupg_epagination_"+e).show(),"load_more"==e?WPUltimateEPostGrid.checkPremiumFeatures("pagination_type",!0):WPUltimateEPostGrid.checkPremiumFeatures("pagination_type",!1),"none"!=e?(jQuery("#wpupg_meta_box_pagination_style").show().find(".wpupg_efilter_preview").hide(),jQuery("#wpupg_efilter_preview_pagination_style_"+e).show()):jQuery("#wpupg_meta_box_pagination_style").hide()},WPUltimateEPostGrid.changedPaginationText=function(){var e=jQuery("#wpupg_epagination_load_more_button_text").val();jQuery("#wpupg_efilter_preview_pagination_style_load_more").find(".wpupg-pagination-term").text(e)},WPUltimateEPostGrid.checkPremiumFeatures=function(e,t){t?WPUltimateEPostGrid.premium_features_used.push(e):WPUltimateEPostGrid.premium_features_used=jQuery.grep(WPUltimateEPostGrid.premium_features_used,function(t){return t!=e}),WPUltimateEPostGrid.premium_features_used.length>0?jQuery("#wpupg_meta_box_premium_only").show():jQuery("#wpupg_meta_box_premium_only").hide()},jQuery(document).ready(function(e){e("#wpupg_meta_box_data_source").length>0&&WPUltimateEPostGrid.initForm()});